import{a as A,r as h,i as k,j as y,o as _,b as m,f as D,y as x,A as L,B as C,C as j,x as f,F as B,D as V,u as $,z as H,c as M}from"./entry.884f2b70.js";import{m as p,H as r,u as v}from"./github-dark.9efadeb8.js";import{c as S}from"./convertImageUrl.178e23af.js";const E={class:"article"},F=["innerHTML"],N={__name:"ArticleCard",props:["group","title","link"],setup(d){const{group:c,title:i,link:u}=d,g=h("");return k(async()=>{p.setOptions({renderer:new p.Renderer,highlight:function(o,e){const t=r.getLanguage(e)?e:"plaintext";return e&&r.getLanguage(e)?'<div class="hljs">'+r.highlight(t,o).value+"</div>":r.highlight(t,o).value},pedantic:!1,gfm:!0,tables:!0,breaks:!1,sanitize:!1,smartLists:!0,smartypants:!1,xhtml:!1}),y(async()=>{await v("https://bingfenghung.github.io/DevArticles/articles.json","$kjRKXaqdP6");const o=await v(u,"$hx8nBZqdnV"),e=S.imageUrlConverter(u,o);g.value=p(e)})}),(o,e)=>{const t=j;return _(),m("div",E,[D("div",{class:"content",innerHTML:g.value},null,8,F),x(t,{to:`/articles/${d.group}_${d.title}`},{default:L(()=>[C(" \u7E7C\u7E8C\u95B1\u8B80 ")]),_:1},8,["to"])])}}},O=A(N,[["__scopeId","data-v-892953e9"]]);const R={__name:"index",setup(d){h("");let c=f([]),i=f([]);const u=h(1),g=e=>Object.keys(e).reduce((a,l)=>{const n=e[l].map(s=>({group:l,...s}));return a.concat(n)},[]).sort((a,l)=>{const n=a.lastModifyDate.split("-"),s=l.lastModifyDate.split("-"),b=new Date(...n),w=new Date(...s);return b-w});k(async()=>{p.setOptions({renderer:new p.Renderer,highlight:function(e,t){const a=r.getLanguage(t)?t:"plaintext";return t&&r.getLanguage(t)?'<div class="hljs">'+r.highlight(a,e).value+"</div>":r.highlight(a,e).value},pedantic:!1,gfm:!0,tables:!0,breaks:!1,sanitize:!1,smartLists:!0,smartypants:!1,xhtml:!1}),y(async()=>{const{data:e}=await v("https://bingfenghung.github.io/DevArticles/articles.json","$PslAyef5YX");console.log("old",e.value),e.value=Object.keys(e.value).reduce((a,l)=>{const n=e.value[l]=e.value[l].map(s=>(s.link=s.link.replaceAll("#","%23").replaceAll(" ","%20"),s.title=s.title.replaceAll("#","%23").replaceAll(" ","%20"),{...s}));return{[l]:n,...a}},{}),e.value.CSharp=e.value["C#"],delete e.value["C#"],i=g(e.value),console.log("vector",i),i.slice(0,6).forEach(a=>{c.push(a)})})});const o=e=>{console.log("recent",i);const t=i.slice(6*(e-1),7+6*(e-1));console.log("recent",t),c=[],t.forEach(a=>{c.push(a)})};return Array.prototype.asyncForEach=async function(e){for(let t=0;t<this.length;t++)await e(this[t],t,this)},(e,t)=>{const a=O,l=H("vue-awesome-paginate");return _(),m("div",null,[(_(!0),m(B,null,V($(c),(n,s)=>(_(),M(a,{key:s,group:n.group,title:n.title,link:n.link},null,8,["group","title","link"]))),128)),x(l,{"total-items":50,"items-per-page":5,"max-pages-shown":5,modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=n=>u.value=n),"show-breapoint-buttons":!1,"show-jump-buttons":!0,"on-click":o},null,8,["modelValue"])])}}};export{R as default};
