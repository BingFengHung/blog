import{l as h}from"./entry.73344d0c.js";import{u as d}from"./fetch.47e2e401.js";const f="https://bingfenghung.github.io/DevArticles";function p(){const t=this.articleData;this.articleCount=Object.keys(t).reduce((a,e)=>(a+=t[e].length,a),0)}function g(t){const a=new URL(t),e=`${a.protocol}//${a.host}`;let i=t.replace(e,"").split("/").map(decodeURIComponent).join("/").split("/").map(encodeURIComponent).join("/");return`${e}${i}`}function C(){const t=this.articleData;this.articles=Object.keys(t).reduce((a,e)=>{const r=t[e].map(s=>({...s,link:g(s.link)}));return{[e]:r,...a}},{}),t.hasOwnProperty("C#")&&(t.CSharp=t["C#"],delete t["C#"]),t.hasOwnProperty("Visual C++")&&(t.VCpp=t["Visual C++"],delete t["Visual C++"])}const P=h("articleStore",{state:()=>({isQueryData:!1,articleData:null,tags:null,articleCount:0,currentPage:1,articles:null,fetchPromise:null}),actions:{async fetchArticleData(){return this.fetchPromise||(this.fetchPromise=(async()=>{this.isFetching=!0;try{const{data:t}=await d("https://bingfenghung.github.io/DevArticles/articles.json","$43KoYjzz7B");Object.keys(t.value).forEach(a=>t.value[a].forEach(e=>{const r=e.link;e.link=`${f}${r}`})),this.articleData=t,p.call(this),C.call(this),this.isQueryData=!0}finally{this.isFetching=!1,this.fetchPromise=null}})()),this.fetchPromise},getTags(){const t=this.articleData,a=Object.keys(t).reduce((s,i)=>({...t[i].reduce((c,l)=>({...l.tags.reduce((o,u)=>({...{[u]:0},...o}),{}),...c}),{}),...s}),{}),e={"Visual C++":"VCpp","C#":"CSharp","Visual Studio":"VisualStudio","Unit Test":"UnitTest"},r=Object.keys(a).reduce((s,i)=>{const n=e[i]||i;return{...s,[i]:n}},{});this.tags=r}},getters:{}});export{f as a,P as u};
