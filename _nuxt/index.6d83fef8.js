import{_ as k,a as v}from"./Paginate.cd20f696.js";import"./markedSetup.efa5886b.js";import{u as x}from"./articles.e28a29b1.js";import{u as B}from"./currentPage.b1964d5a.js";import{r as m,B as P,z as S,b as _,F as w,e as A,f as C,h as V,u as i,o as u,c as b}from"./entry.05f15895.js";import"./fetch.4a99a1cb.js";import"./convertImageUrl.06cadc37.js";const F={class:"example-five"},Q={__name:"index",setup(L){const c=m([]);let d=m([]);const s=x(),l=B(),f=t=>Object.keys(t).reduce((a,n)=>{const o=t[n].map(r=>({group:n,...r}));return a.concat(o)},[]).sort((a,n)=>{const o=a.lastModifyDate.split("-"),r=n.lastModifyDate.split("-"),h=new Date(...o);return new Date(...r)-h});P(async()=>{s.isQueryData||await s.fetchArticleData();let t=s.articleData;console.log(t),t=Object.keys(t).reduce((e,a)=>{const n=t[a]=t[a].map(o=>({...o}));return{[a]:n,...e}},{}),d=f(t),p(l.currentPage)});const p=t=>{const e=d.slice(6*(t-1),6*t);c.splice(0,c.length,...e)},g=()=>{window.scrollTo({top:0,behavior:"smooth"})},y=t=>{p(t),g()},D=S(()=>s.articleCount);return Array.prototype.asyncForEach=async function(t){for(let e=0;e<this.length;e++)await t(this[e],e,this)},(t,e)=>{const a=v,n=k;return u(),_("div",null,[(u(!0),_(w,null,A(c,(o,r)=>(u(),b(a,{key:r,articleData:o},null,8,["articleData"]))),128)),C("div",F,[V(n,{items:i(D),onChangePage:y,modelValue:i(l).currentPage,"onUpdate:modelValue":e[0]||(e[0]=o=>i(l).currentPage=o)},null,8,["items","modelValue"])])])}}};export{Q as default};
