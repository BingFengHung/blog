import{_ as k}from"./ArticleCard.7fe5de65.js";import{p as D,x as P,D as b,o as d,c as y,i as f,u as m,J as B,f as r,r as v,B as A,z as S,b as x,F as M,e as O,h as j}from"./entry.4341127c.js";import"./markedSetup.efa5886b.js";import{u as z}from"./articles.e4415e38.js";import{u as F}from"./currentPage.032fd04d.js";import"./fetch.b4f82de6.js";import"./convertImageUrl.ec3dca48.js";const L=r("span",null,[r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"black",width:"8",height:"8",viewBox:"0 0 24 24"},[r("path",{d:"M8.122 24l-4.122-4 8-8-8-8 4.122-4 11.878 12z"})])],-1),T=r("span",null,[r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"black",width:"8",height:"8",viewBox:"0 0 24 24"},[r("path",{d:"M8.122 24l-4.122-4 8-8-8-8 4.122-4 11.878 12z"})])],-1),E={__name:"Paginate",props:["items","modelValue"],emits:["changePage","update:modelValue"],setup(_,{emit:i}){const o=D(_.modelValue),c=l=>{o.value=l,i("changePage",l)};return P(o,l=>{i("update:modelValue",l)}),(l,u)=>{const h=b("vue-awesome-paginate");return d(),y(h,{modelValue:m(o),"onUpdate:modelValue":u[0]||(u[0]=w=>B(o)?o.value=w:null),"total-items":_.items,"items-per-page":6,"max-pages-shown":3,"show-breapoint-buttons":!1,"show-jump-buttons":!1,"on-click":c},{"prev-button":f(()=>[L]),"next-button":f(()=>[T]),_:1},8,["modelValue","total-items"])}}};const H={class:"example-five"},K={__name:"index",setup(_){const i=v([]);let g=v([]);const o=z(),c=F(),l=e=>Object.keys(e).reduce((n,s)=>{const a=e[s].map(p=>({group:s,...p}));return n.concat(a)},[]).sort((n,s)=>{const a=n.lastModifyDate.split("-"),p=s.lastModifyDate.split("-"),V=new Date(...a);return new Date(...p)-V});A(async()=>{o.articleData||await o.fetchArticleData();let e=o.articleData;e=Object.keys(e).reduce((t,n)=>{const s=e[n]=e[n].map(a=>({...a,link:a.link.replaceAll("#","%23").replaceAll(" ","%20").replaceAll("+","%2B"),title:a.title}));return{[n]:s,...t}},{}),e.hasOwnProperty("C#")&&(e.CSharp=e["C#"],delete e["C#"]),e.hasOwnProperty("Visual C++")&&(e.VCpp=e["Visual C++"],delete e["Visual C++"]),g=l(e),u(c.currentPage)});const u=e=>{const t=g.slice(6*(e-1),6*e);i.splice(0,i.length,...t)},h=()=>{window.scrollTo({top:0,behavior:"smooth"})},w=e=>{u(e),h()},C=S(()=>o.articleCount);return Array.prototype.asyncForEach=async function(e){for(let t=0;t<this.length;t++)await e(this[t],t,this)},(e,t)=>{const n=k,s=E;return d(),x("div",null,[(d(!0),x(M,null,O(i,(a,p)=>(d(),y(n,{key:p,articleData:a},null,8,["articleData"]))),128)),r("div",H,[j(s,{items:m(C),onChangePage:w,modelValue:m(c).currentPage,"onUpdate:modelValue":t[0]||(t[0]=a=>m(c).currentPage=a)},null,8,["items","modelValue"])])])}}};export{K as default};
